import{j as e}from"./jsx-runtime-1a9d9a93.js";import{r as d}from"./index-8b3efc3f.js";import{u as k}from"./useFetchWithCallbacks-0999b78a.js";import"./_commonjsHelpers-de833af9.js";const L={title:"Advanced/Performance Optimization",parameters:{docs:{description:{component:"Examples showing performance optimizations and best practices for the useFetchWithCallbacks hook."}}}},C=()=>{const[c,l]=d.useState([]),[u,p]=d.useState(0),f="https://jsonplaceholder.typicode.com",s=r=>{l(a=>[...a,`${new Date().toLocaleTimeString()}: ${r}`])},{fetchData:h,loading:o,response:n,error:i}=k(`${f}/posts/1`,{timeout:5e3});d.useEffect(()=>{p(r=>r+1)});const j=()=>{h(r=>s(`âœ… Data fetched successfully: ${r.title}`),r=>s(`âŒ Error: ${r.message}`),r=>s(`â³ Loading: ${r}`))},b=()=>{h(r=>s(`âœ… New callback: ${r.title}`),r=>s(`âŒ New error callback: ${r.message}`))},y=()=>{l([]),p(0)};return e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h2",{children:"Performance Optimization Examples"}),e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"4px"},children:[e.jsx("h3",{children:"ðŸŽ¯ Performance Metrics"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Component Renders:"})," ",u]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current State:"})," ",o?"Loading...":"Idle"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memory Usage:"})," ",i?"Error state":n?"Data cached":"No data"]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{children:"âœ… Optimized Approach"}),e.jsx("p",{children:"Callbacks are pre-configured in hook options - no new functions created on each render."}),e.jsx("button",{onClick:j,disabled:o,style:{padding:"10px 20px",backgroundColor:o?"#ccc":"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",marginRight:"10px"},children:o?"Loading...":"Optimized Fetch"}),e.jsx("button",{onClick:b,disabled:o,style:{padding:"10px 20px",backgroundColor:o?"#ccc":"#ff9800",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",marginRight:"10px"},children:o?"Loading...":"Unoptimized Fetch"}),e.jsx("button",{onClick:y,style:{padding:"10px 20px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Logs"})]}),i&&e.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#ffebee",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[e.jsx("strong",{children:"Error:"})," ",i.message]}),n&&e.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e8f5e8",borderLeft:"4px solid #4caf50",borderRadius:"4px"},children:[e.jsx("h3",{children:"ðŸ“Š Response Data:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",n.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," ",n.title]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Body:"})," ",n.body.substring(0,100),"..."]})]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h3",{children:"ðŸ“ Performance Logs:"}),e.jsx("div",{style:{backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"4px",maxHeight:"200px",overflowY:"auto",fontFamily:"monospace"},children:c.length===0?e.jsx("em",{children:"No logs yet..."}):c.map((r,a)=>e.jsx("div",{children:r},a))})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3e0",borderRadius:"4px"},children:[e.jsx("h4",{children:"ðŸ”§ Performance Tips:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Pre-configure callbacks:"})," Use hook options instead of inline functions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Memoize expensive operations:"})," Use React.useMemo for complex data transformations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Debounce frequent requests:"})," Implement debouncing for search/filter operations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Use request cancellation:"})," Leverage AbortController for cleanup"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Monitor re-renders:"})," Use React DevTools to identify unnecessary renders"]})]})]})]})},t={render:()=>e.jsx(C,{}),parameters:{docs:{description:{story:"This story demonstrates performance optimization techniques when using the useFetchWithCallbacks hook."}}}};var x,m,g;t.parameters={...t.parameters,docs:{...(x=t.parameters)==null?void 0:x.docs,source:{originalSource:`{
  render: () => <PerformanceDemo />,
  parameters: {
    docs: {
      description: {
        story: 'This story demonstrates performance optimization techniques when using the useFetchWithCallbacks hook.'
      }
    }
  }
}`,...(g=(m=t.parameters)==null?void 0:m.docs)==null?void 0:g.source}}};const D=["PerformanceOptimization"];export{t as PerformanceOptimization,D as __namedExportsOrder,L as default};
